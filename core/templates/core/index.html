{% extends "core/base.html" %}


{% block content %}
  {% if form.errors %}
  <p>Your username and password didn't match. Please try again.</p>
  {% endif %}

  {% if user.is_authenticated %}
    {{ user.email }} is logged in
  {% else %}
    <h1>Sign in</h1>
    <form method="POST" action="{% url 'django.contrib.auth.views.login' %}">
      {% csrf_token %}
      <table>
      <tr>
          <td>{{ form.username.label_tag }}</td>
          <td>{{ form.username }}</td>
      </tr>
      <tr>
          <td>{{ form.password.label_tag }}</td>
          <td>{{ form.password }}</td>
      </tr>
      </table>

      <input type="submit" value="login" />
      <input type="hidden" name="next" value="{{ next }}" />
    </form>

    <h1>Sign up</h1>
    <form method="POST" action="{% url 'core.views.sign_up' %}">
      {% csrf_token %}
      {% if signup_form.errors %}
        {{ signup_form.errors }}
      {% endif %}
      <table>
      <tr>
          <td>{{ signup_form.email.label_tag }}</td>
          <td>{{ signup_form.email }}</td>
      </tr>
      <tr>
          <td>{{ signup_form.password1.label_tag }}</td>
          <td>{{ signup_form.password1 }}</td>
      </tr>
       <tr>
          <td>{{ signup_form.password2.label_tag }}</td>
          <td>{{ signup_form.password2 }}</td>
      </tr>     
      </table>

      <input type="submit" value="signup" />
      <input type="hidden" name="next" value="{{ next }}" />
    </form>
  {% endif %}

{% endblock %}